{"tests": [{"data": {"status": "failure", "inputs": {"input": {"src": "hda", "id": "2891970512fa2d5a"}}, "output_problems": ["Job in error state.", "Job in error state."], "job": {"inputs": {"input": {"src": "hda", "id": "2891970512fa2d5a", "uuid": "65b6ff54-8efe-421f-80f2-f583e5e61242"}}, "update_time": "2016-08-11T19:20:52.286392", "tool_id": "hello_world", "outputs": {"output": {"src": "hda", "id": "5729865256bc2525", "uuid": "7c4ed264-75c5-4620-9db4-f27bf5866403"}}, "stdout": "", "command_line": "python hello_world.py /tmp/tmpumzRx9/files/000/dataset_1.dat > /tmp/tmpumzRx9/files/000/dataset_2.dat", "exit_code": 2, "state": "error", "create_time": "2016-08-11T19:20:44.756213", "params": {"chromInfo": "\"/Users/pajon01/workspace/git-galaxy-kickstart/galaxy-dist/tool-data/shared/ucsc/chrom/hg17.len\"", "dbkey": "\"hg17\""}, "stderr": "Fatal error: Exit code 2 ()\npython: can't open file 'hello_world.py': [Errno 2] No such file or directory\n", "job_metrics": [], "model_class": "Job", "external_id": "76973", "id": "5729865256bc2525", "user_email": "test@bx.psu.edu"}, "problem_log": "  File \"/sw/lib/python2.7/unittest/case.py\", line 329, in run\n    testMethod()\n  File \"/Users/pajon01/workspace/git-galaxy-kickstart/galaxy-dist/test/functional/test_toolbox.py\", line 299, in test_tool\n    self.do_it( td )\n  File \"/Users/pajon01/workspace/git-galaxy-kickstart/galaxy-dist/test/functional/test_toolbox.py\", line 75, in do_it\n    raise e\n'Job in error state.\\nJob in error state.\\n-------------------- >> begin captured stdout << ---------------------\\nHistory with id 2891970512fa2d5a in error - summary of datasets in error below.\\n--------------------------------------\\n| 2 - Hello World from Planemo on data 1 (HID - NAME) \\n| Dataset Blurb:\\n|  error\\n| Dataset Info:\\n|  Fatal error: Exit code 2 ()\\n|  python: can\\'t open file \\'hello_world.py\\': [Errno 2] No such file or directory\\n| Dataset Job Standard Output:\\n|  *Standard output was empty.*\\n| Dataset Job Standard Error:\\n|  Fatal error: Exit code 2 ()\\n|  python: can\\'t open file \\'hello_world.py\\': [Errno 2] No such file or directory\\n|\\n--------------------------------------\\nHistory with id 2891970512fa2d5a in error - summary of datasets in error below.\\n--------------------------------------\\n| 2 - Hello World from Planemo on data 1 (HID - NAME) \\n| Dataset Blurb:\\n|  error\\n| Dataset Info:\\n|  Fatal error: Exit code 2 ()\\n|  python: can\\'t open file \\'hello_world.py\\': [Errno 2] No such file or directory\\n| Dataset Job Standard Output:\\n|  *Standard output was empty.*\\n| Dataset Job Standard Error:\\n|  Fatal error: Exit code 2 ()\\n|  python: can\\'t open file \\'hello_world.py\\': [Errno 2] No such file or directory\\n|\\n--------------------------------------\\n\\n--------------------- >> end captured stdout << ----------------------\\n-------------------- >> begin captured logging << --------------------\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.web.framework.webapp: INFO: Session authenticated using Galaxy master api key\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/users?key=test_key HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.web.framework.webapp: INFO: Session authenticated using Galaxy master api key\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/users HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.web.framework.webapp: INFO: Session authenticated using Galaxy master api key\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/users/5729865256bc2525/api_key HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/histories HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.tools: DEBUG: Validated and populated state for tool request (65.969 ms)\\ngalaxy.tools.actions.upload: DEBUG: Persisted uploads (25.311 ms)\\ngalaxy.tools.actions.upload: DEBUG: Checked and cleaned uploads (616.607 ms)\\ngalaxy.tools.actions.upload_common: INFO: tool upload1 created job id 1\\ngalaxy.tools.actions.upload: DEBUG: Created upload job (184.431 ms)\\ngalaxy.tools.execute: DEBUG: Tool [upload1] created job [1] (826.957 ms)\\ngalaxy.tools.execute: DEBUG: Executed 1 job(s) for tool upload1 request: (870.613 ms)\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/tools HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs: DEBUG: (1) Working directory for job is: /tmp/tmpumzRx9/job_working_directory/000/1\\ngalaxy.jobs.handler: DEBUG: (1) Dispatching to planemo_runner runner\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs: DEBUG: (1) Persisting job destination (destination id: planemo_dest)\\ngalaxy.jobs.runners: DEBUG: Job [1] queued (392.920 ms)\\ngalaxy.jobs.handler: INFO: (1) Job dispatched\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.tools.deps: DEBUG: Building dependency shell command for dependency \\'samtools\\'\\ngalaxy.tools.deps: DEBUG: Find dependency samtools version None\\ngalaxy.tools.deps: WARNING: Failed to resolve dependency on \\'samtools\\', ignoring\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\ngalaxy.jobs.command_factory: INFO: Built script [/tmp/tmpumzRx9/job_working_directory/000/1/tool_script.sh] for tool command[python /Users/pajon01/workspace/git-galaxy-kickstart/galaxy-dist/tools/data_source/upload.py /Users/pajon01/workspace/git-galaxy-kickstart/galaxy-dist /tmp/tmpumzRx9/tmp/tmp2cZW6b /tmp/tmpumzRx9/tmp/tmpyaambA 1:/tmp/tmpumzRx9/job_working_directory/000/1/dataset_1_files:/tmp/tmpumzRx9/files/000/dataset_1.dat]\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.tools.deps: DEBUG: Building dependency shell command for dependency \\'samtools\\'\\ngalaxy.tools.deps: DEBUG: Find dependency samtools version None\\ngalaxy.tools.deps: WARNING: Failed to resolve dependency on \\'samtools\\', ignoring\\ngalaxy.jobs.runners: DEBUG: (1) command is: mkdir -p working; cd working; /tmp/tmpumzRx9/job_working_directory/000/1/tool_script.sh; return_code=$?; cd \\'/tmp/tmpumzRx9/job_working_directory/000/1\\'; python \"/tmp/tmpumzRx9/job_working_directory/000/1/set_metadata_NIZxrJ.py\" \"/tmp/tmpumzRx9/tmp/tmp2cZW6b\" \"/tmp/tmpumzRx9/job_working_directory/000/1/working/galaxy.json\" \"/tmp/tmpumzRx9/job_working_directory/000/1/metadata_in_HistoryDatasetAssociation_1_K_82xs,/tmp/tmpumzRx9/job_working_directory/000/1/metadata_kwds_HistoryDatasetAssociation_1_VoTPM8,/tmp/tmpumzRx9/job_working_directory/000/1/metadata_out_HistoryDatasetAssociation_1_cmYcn4,/tmp/tmpumzRx9/job_working_directory/000/1/metadata_results_HistoryDatasetAssociation_1_uAKZyt,/tmp/tmpumzRx9/files/000/dataset_1.dat,/tmp/tmpumzRx9/job_working_directory/000/1/metadata_override_HistoryDatasetAssociation_1_JVE9hs\" 5242880; sh -c \"exit $return_code\"\\ngalaxy.jobs.runners.local: DEBUG: (1) executing job script: /tmp/tmpumzRx9/job_working_directory/000/1/galaxy_1.sh\\ngalaxy.jobs: DEBUG: (1) Persisting job destination (destination id: planemo_dest)\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs.runners.local: DEBUG: execution finished: /tmp/tmpumzRx9/job_working_directory/000/1/galaxy_1.sh\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs: DEBUG: job 1 ended (finish() executed in (4052.225 ms))\\ngalaxy.tools: DEBUG: Validated and populated state for tool request (327.787 ms)\\ngalaxy.tools.actions: INFO: Handled output named output for tool hello_world (41.198 ms)\\ngalaxy.tools.actions: INFO: Added output datasets to history (29.055 ms)\\ngalaxy.tools.actions: INFO: Verified access to datasets for Job[unflushed,tool_id=hello_world] (13.949 ms)\\ngalaxy.tools.actions: INFO: Setup for job Job[unflushed,tool_id=hello_world] complete, ready to flush (46.504 ms)\\ngalaxy.tools.actions: INFO: Flushed transaction for job Job[id=2,tool_id=hello_world] (45.569 ms)\\ngalaxy.tools.execute: DEBUG: Tool [hello_world] created job [2] (170.411 ms)\\ngalaxy.tools.execute: DEBUG: Executed 1 job(s) for tool hello_world request: (216.878 ms)\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/tools HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs: DEBUG: (2) Working directory for job is: /tmp/tmpumzRx9/job_working_directory/000/2\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\ngalaxy.jobs.handler: DEBUG: (2) Dispatching to planemo_runner runner\\ngalaxy.jobs: DEBUG: (2) Persisting job destination (destination id: planemo_dest)\\ngalaxy.jobs.runners: DEBUG: Job [2] queued (70.432 ms)\\ngalaxy.jobs.handler: INFO: (2) Job dispatched\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\ngalaxy.jobs.command_factory: INFO: Built script [/tmp/tmpumzRx9/job_working_directory/000/2/tool_script.sh] for tool command[python hello_world.py /tmp/tmpumzRx9/files/000/dataset_1.dat > /tmp/tmpumzRx9/files/000/dataset_2.dat]\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\ngalaxy.tools.deps: DEBUG: Building dependency shell command for dependency \\'samtools\\'\\ngalaxy.tools.deps: DEBUG: Find dependency samtools version None\\ngalaxy.tools.deps: WARNING: Failed to resolve dependency on \\'samtools\\', ignoring\\ngalaxy.jobs.runners: DEBUG: (2) command is: mkdir -p working; cd working; /tmp/tmpumzRx9/job_working_directory/000/2/tool_script.sh; return_code=$?; cd \\'/tmp/tmpumzRx9/job_working_directory/000/2\\'; python \"/tmp/tmpumzRx9/job_working_directory/000/2/set_metadata_thVup9.py\" \"/tmp/tmpumzRx9/tmp/tmp2cZW6b\" \"/tmp/tmpumzRx9/job_working_directory/000/2/working/galaxy.json\" \"/tmp/tmpumzRx9/job_working_directory/000/2/metadata_in_HistoryDatasetAssociation_2_io4glQ,/tmp/tmpumzRx9/job_working_directory/000/2/metadata_kwds_HistoryDatasetAssociation_2_YYwC_0,/tmp/tmpumzRx9/job_working_directory/000/2/metadata_out_HistoryDatasetAssociation_2_lMuY_2,/tmp/tmpumzRx9/job_working_directory/000/2/metadata_results_HistoryDatasetAssociation_2_uhrZi1,/tmp/tmpumzRx9/files/000/dataset_2.dat,/tmp/tmpumzRx9/job_working_directory/000/2/metadata_override_HistoryDatasetAssociation_2_5Eao9c\" 5242880; sh -c \"exit $return_code\"\\ngalaxy.jobs.runners.local: DEBUG: (2) executing job script: /tmp/tmpumzRx9/job_working_directory/000/2/galaxy_2.sh\\ngalaxy.jobs: DEBUG: (2) Persisting job destination (destination id: planemo_dest)\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\ngalaxy.jobs.runners.local: DEBUG: execution finished: /tmp/tmpumzRx9/job_working_directory/000/2/galaxy_2.sh\\ngalaxy.jobs.output_checker: INFO: Job 2: Fatal error: Exit code 2 ()\\ngalaxy.jobs.output_checker: DEBUG: Tool exit code indicates an error, failing job.\\ngalaxy.jobs: DEBUG: (2) setting dataset 2 state to ERROR\\ngalaxy.jobs: DEBUG: job 2 ended (finish() executed in (336.894 ms))\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a/contents?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a/contents/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a/contents/5729865256bc2525/provenance?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?full=true&key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a/contents?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a/contents/5729865256bc2525?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a/contents/5729865256bc2525/provenance?key=d5b707abeef1b0038c9d99aa85777bb7 HTTP/1.1\" 200 None\\n--------------------- >> end captured logging << ---------------------'", "problem_type": "functional.test_toolbox.JobOutputsError"}, "id": "functional.test_toolbox.TestForTool_hello_world.test_tool_000000", "has_data": true}], "version": "0.1", "exit_code": 1, "summary": {"num_skips": 0, "num_errors": 0, "num_failures": 1, "num_tests": 1}}